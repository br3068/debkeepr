<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Analysis of Non-Decimal Currencies and Double-Entry Bookkeeping • debkeepr</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Analysis of Non-Decimal Currencies and Double-Entry Bookkeeping">
<meta property="og:description" content="`debkeepr` provides an interface for analyzing non-decimal
    currencies that use the tripartite system of pounds, shillings, and pence
    through the implementation of the `lsd` class. `debkeepr` includes
    functions to apply arithmetic and financial operations to single or
    multiple values and to analyze account books that use either
    single-entry bookkeeping or double-entry bookkeeping with the latter
    providing the name for `debkeepr`.">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-126059158-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-126059158-1');
</script>
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">debkeepr</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="Unreleased version">0.0.3.9001</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="articles/debkeepr.html">Get started</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/transactions.html">1. Transactions in Richard Dafforne's Journal</a>
    </li>
    <li>
      <a href="articles/ledger.html">2. Analysis of Richard Dafforne’s Journal and Ledger</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/jessesadler/debkeepr">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    

    
    
<div id="debkeepr-analysis-of-non-decimal-currencies" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#debkeepr-analysis-of-non-decimal-currencies" class="anchor"></a>debkeepr: Analysis of Non-Decimal Currencies</h1></div>

<p><code>debkeepr</code> provides an interface for working with non-decimal currencies that use the tripartite system of pounds, shillings, and pence. The package includes functions to apply arithmetic and financial operations to single or multiple values and to analyze account books that use either <a href="https://en.wikipedia.org/wiki/Single-entry_bookkeeping_system">single-entry bookkeeping</a> or <a href="https://en.wikipedia.org/wiki/Double-entry_bookkeeping_system">double-entry bookkeeping</a> with the latter providing the name for <code>debkeepr</code>.</p>
<div id="lifecycle" class="section level2">
<h2 class="hasAnchor">
<a href="#lifecycle" class="anchor"></a>Lifecycle</h2>
<p>This branch of <code>debkeepr</code> has been retired in favor of a new API backed by the <a href="https://vctrs.r-lib.org/">vctrs package</a> that more fully integrates non-decimal currencies into R. A fairly stable implementation of the new API using the CRAN version of <code>vctrs</code> is on the <a href="https://github.com/jessesadler/debkeepr">master branch</a>. Current development to keep up with the changes to <code>vctrs</code> is on the <a href="https://github.com/jessesadler/debkeepr/tree/vctrs">vctrs branch</a>.</p>
<p>Note that this retired branch currently has more capabilities than the new API, particularly in working with non-decimal currencies in data frames. The new API has to wait for <code>vctrs</code> to be better integrated into the <code>tibble</code> and <code>dplyr</code> packages. These capabilities will be added to the new API as soon as possible.</p>
</div>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>You can install <code>debkeepr</code> from GitHub with <a href="https://remotes.r-lib.org">remotes</a>:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="co"># install.packages("remotes")</span></a>
<a class="sourceLine" id="cb1-2" data-line-number="2">remotes<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/remotes/topics/install_github">install_github</a></span>(<span class="st">"jessesadler/debkeepr"</span>, <span class="dt">ref =</span> <span class="st">"list-class"</span>)</a></code></pre></div>
</div>
<div id="lsd-class" class="section level2">
<h2 class="hasAnchor">
<a href="#lsd-class" class="anchor"></a>lsd Class</h2>
<p>The pounds, shillings, and pence monetary system complicates even relatively simple arithmetic manipulations, as each unit has to be <a href="https://en.wikipedia.org/wiki/Arithmetic#Compound_unit_arithmetic">normalized</a> or converted to the correct base. To unite pounds, shillings, and pence units into a single value and associate the shillings and pence units with non-decimal bases <code>debkeepr</code> implements a special class of R object. The <strong>lsd</strong> class consists of a list of one or more numeric vectors of length 3 and a <code>bases</code> attribute attached to the list. <code>debkeepr</code> provides functions to manipulate objects that can be coerced to class <code>lsd</code>, <code>lsd</code> objects on their own, or <code>lsd</code> list columns in a data frame.</p>
</div>
<div id="historical-background" class="section level2">
<h2 class="hasAnchor">
<a href="#historical-background" class="anchor"></a>Historical Background</h2>
<p>The <code>debkeepr</code> package uses the nomenclature of <a href="https://en.wikipedia.org/wiki/%C2%A3sd">l, s, and d</a> to represent pounds, shillings, and pence units. The abbreviations derive from the Latin terms <a href="https://en.wikipedia.org/wiki/French_livre">libra</a>, <a href="https://en.wikipedia.org/wiki/Solidus_(coin)">solidus</a>, and <a href="https://en.wikipedia.org/wiki/Denarius">denarius</a>. The libra was a Roman measurement of weight, while the solidus and denarius were both Roman coins. The denarius was a silver coin from the era of the Republic, in contrast to the golden solidus that was issued in the Late Empire. As the production of silver coins overtook that of gold by the 8th century, a solidus came to represent 12 silver denarii coins, and 240 denarii were — for a time — made from one libra or pound of silver. The custom of counting coins in dozens (solidi) and scores of dozens (librae) spread throughout the Carolingian Empire and became engrained in much of Europe. However, a variety of <a href="https://en.wikipedia.org/wiki/Non-decimal_currency">other bases</a> for the solidi and denarii units were in use in different regions and at different times. <code>debkeepr</code> provides a consistent manner for dealing with any set of bases within a tripartite system through the <code>bases</code> attribute of an <code>lsd</code> object.</p>
</div>
<div id="resources" class="section level2">
<h2 class="hasAnchor">
<a href="#resources" class="anchor"></a>Resources</h2>
<ul>
<li>Getting Started with debkeepr vignette: A more in depth overview of <code>debkeepr</code>’s functions and their use in various contexts.</li>
<li>Transactions in Richard Dafforne’s Journal vignette: Examples of financial and arithmetic calculations dealing with various currencies taken from the example journal in Richard Dafforne’s <em>Merchant’s Mirrour</em> (1660).</li>
<li>Analysis of Richard Dafforne’s Journal and Ledger vignette: An analysis of the example journal and ledger in Dafforne’s <em>Merchant’s Mirrour</em> using the <code>dafforne_transactions</code> and <code>dafforne_accounts</code> data provided in <code>debkeepr</code>.</li>
<li>A <a href="https://github.com/jessesadler/debkeepr/blob/master/data-raw/dafforne-journal.pdf">PDF copy of Dafforne’s example journal</a> can be consulted to further investigate the practices of early modern double-entry bookkeeping.</li>
</ul>
</div>
<div id="overview" class="section level2">
<h2 class="hasAnchor">
<a href="#overview" class="anchor"></a>Overview</h2>
<ul>
<li>All of the functions in <code>debkeepr</code> begin with the prefix <code>deb_</code>, which is short for double-entry bookkeeping.</li>
<li>The nomenclature used throughout the package follows the <a href="https://en.wikipedia.org/wiki/%C2%A3sd">original Latin terms</a> in using l, s, and d to represent librae, solidi, and denarii respectively and to refer to such values as lsd values. These terms were translated into the various European languages.
<ul>
<li>English: pounds, shillings, pence</li>
<li>French: livres, sols or sous, deniers</li>
<li>Italian: lire, soldi, denari</li>
<li>Dutch: ponden, schellingen, groten or penningen</li>
</ul>
</li>
<li>The functions are designed to be used in three types of contexts:
<ol style="list-style-type: decimal">
<li>Manipulation of single or multiple lsd values represented as an object of class <code>lsd</code> or an object that can be coerced to class <code>lsd</code>: a numeric vector of length 3 or a list of such vectors.</li>
<li>A data frame with one or more list column of class <code>lsd</code>.</li>
<li>A data frame that mimics the structure of an account book and can be thought of as a transactions data frame. In addition to an <code>lsd</code> list column that denotes the value of each transaction, a transactions data frame contains variables recording the <a href="https://en.wikipedia.org/wiki/Debits_and_credits">credit and debit account</a> for each transaction.</li>
</ol>
</li>
<li>Data
<ul>
<li>
<code>debkeepr</code> contains two data sets from the example journal and ledger in the third edition of Richard Dafforne’s <em>Merchant’s Mirrour</em> from 1660. Dafforne’s text taught the practices of double-entry bookkeeping and provided a full set of account books to be used for educational purposes.</li>
<li>
<code>dafforne_transactions</code> is a transactions data frame with 177 transactions.</li>
<li>
<code>dafforne_accounts</code> possesses information about the 46 accounts in the journal and ledger.</li>
</ul>
</li>
</ul>
</div>
<div id="examples" class="section level2">
<h2 class="hasAnchor">
<a href="#examples" class="anchor"></a>Examples</h2>
<p>At the heart of <code>debkeepr</code> is the need to normalize pounds, shillings, and pence values to specified non-decimal unit bases in the process or making various calculations. Even in the simplest case of addition, <code>debkeepr</code> makes the process easier and less error prone. A historian working with economic data will often come across sets of monetary values that need to be added together. <code>debkeepr</code> provides multiple means to accomplish this frequent task.</p>
<ul>
<li>Add the separate units by hand and then normalize.</li>
<li>Do the addition with <code>debkeepr</code> by supplying numeric vectors of length three.</li>
<li>Create an object of class <code>lsd</code> and proceed with the addition.</li>
</ul>
<p>For example, adding together a set of values by hand might result in the non-standard form of £131 62s. 41d. in a currency with the standard bases of 20 shillings per £1 and 12 pence per shilling.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(debkeepr)</a>
<a class="sourceLine" id="cb2-2" data-line-number="2"></a>
<a class="sourceLine" id="cb2-3" data-line-number="3"><span class="co"># Normalize £131 62s. 41d.</span></a>
<a class="sourceLine" id="cb2-4" data-line-number="4"><span class="kw"><a href="reference/deb_normalize.html">deb_normalize</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">131</span>, <span class="dv">67</span>, <span class="dv">42</span>), <span class="dt">bases =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">20</span>, <span class="dv">12</span>))</a>
<a class="sourceLine" id="cb2-5" data-line-number="5"><span class="co">#&gt;       l  s d</span></a>
<a class="sourceLine" id="cb2-6" data-line-number="6"><span class="co">#&gt; [1] 134 10 6</span></a>
<a class="sourceLine" id="cb2-7" data-line-number="7"></a>
<a class="sourceLine" id="cb2-8" data-line-number="8"><span class="co"># Addition of values with debkeepr</span></a>
<a class="sourceLine" id="cb2-9" data-line-number="9"><span class="kw"><a href="reference/deb_sum.html">deb_sum</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">15</span>, <span class="dv">9</span>, <span class="dv">11</span>),</a>
<a class="sourceLine" id="cb2-10" data-line-number="10">        <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">32</span>, <span class="dv">17</span>, <span class="dv">8</span>),</a>
<a class="sourceLine" id="cb2-11" data-line-number="11">        <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">18</span>, <span class="dv">8</span>, <span class="dv">9</span>),</a>
<a class="sourceLine" id="cb2-12" data-line-number="12">        <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">54</span>, <span class="dv">15</span>, <span class="dv">4</span>),</a>
<a class="sourceLine" id="cb2-13" data-line-number="13">        <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">12</span>, <span class="dv">18</span>, <span class="dv">10</span>))</a>
<a class="sourceLine" id="cb2-14" data-line-number="14"><span class="co">#&gt;       l  s d</span></a>
<a class="sourceLine" id="cb2-15" data-line-number="15"><span class="co">#&gt; [1] 134 10 6</span></a>
<a class="sourceLine" id="cb2-16" data-line-number="16"></a>
<a class="sourceLine" id="cb2-17" data-line-number="17"><span class="co"># Create lsd object from list of vectors, then do addition</span></a>
<a class="sourceLine" id="cb2-18" data-line-number="18">lsd_values &lt;-<span class="st"> </span><span class="kw"><a href="reference/lsd.html">deb_as_lsd</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/list">list</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">15</span>, <span class="dv">9</span>, <span class="dv">11</span>),</a>
<a class="sourceLine" id="cb2-19" data-line-number="19">                              <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">32</span>, <span class="dv">17</span>, <span class="dv">8</span>),</a>
<a class="sourceLine" id="cb2-20" data-line-number="20">                              <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">18</span>, <span class="dv">8</span>, <span class="dv">9</span>),</a>
<a class="sourceLine" id="cb2-21" data-line-number="21">                              <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">54</span>, <span class="dv">15</span>, <span class="dv">4</span>),</a>
<a class="sourceLine" id="cb2-22" data-line-number="22">                              <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">12</span>, <span class="dv">18</span>, <span class="dv">10</span>)),</a>
<a class="sourceLine" id="cb2-23" data-line-number="23">                         <span class="dt">bases =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">20</span>, <span class="dv">12</span>))</a>
<a class="sourceLine" id="cb2-24" data-line-number="24"><span class="kw"><a href="reference/deb_sum.html">deb_sum</a></span>(lsd_values)</a>
<a class="sourceLine" id="cb2-25" data-line-number="25"><span class="co">#&gt;       l  s d</span></a>
<a class="sourceLine" id="cb2-26" data-line-number="26"><span class="co">#&gt; [1] 134 10 6</span></a></code></pre></div>
<p>Objects of class <code>lsd</code> can also be used within data frames as a list column. The values can be manipulated through <code>debkeepr</code> functions in concert with <code><a href="https://dplyr.tidyverse.org/reference/mutate.html">dplyr::mutate()</a></code>. The <a href="https://tibble.tidyverse.org">tibble package</a> provides native support for list columns, enabling an <code>lsd</code> object to be linked to attribute data such as the person, object, or date associated with the monetary values. Here, a tibble is created with an <code>lsd</code> list column and a column listing three people — a, b, and c — who could be said to have purchased goods. It is then possible to manipulate the values, showing, in this example, interest over a two year period at 8% and the new value due.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(tibble)</a>
<a class="sourceLine" id="cb3-2" data-line-number="2"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(dplyr)</a>
<a class="sourceLine" id="cb3-3" data-line-number="3"></a>
<a class="sourceLine" id="cb3-4" data-line-number="4"><span class="co"># Create a tibble with an lsd list column</span></a>
<a class="sourceLine" id="cb3-5" data-line-number="5">(lsd_tbl &lt;-<span class="st"> </span><span class="kw"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span>(<span class="dt">person =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"a"</span>, <span class="st">"c"</span>, <span class="st">"b"</span>, <span class="st">"c"</span>, <span class="st">"b"</span>),</a>
<a class="sourceLine" id="cb3-6" data-line-number="6">                   <span class="dt">lsd =</span> lsd_values))</a>
<a class="sourceLine" id="cb3-7" data-line-number="7"><span class="co">#&gt; # A tibble: 5 x 2</span></a>
<a class="sourceLine" id="cb3-8" data-line-number="8"><span class="co">#&gt;   person lsd       </span></a>
<a class="sourceLine" id="cb3-9" data-line-number="9"><span class="co">#&gt;   &lt;chr&gt;  &lt;lsd&gt;     </span></a>
<a class="sourceLine" id="cb3-10" data-line-number="10"><span class="co">#&gt; 1 a      15, 9, 11 </span></a>
<a class="sourceLine" id="cb3-11" data-line-number="11"><span class="co">#&gt; 2 c      32, 17, 8 </span></a>
<a class="sourceLine" id="cb3-12" data-line-number="12"><span class="co">#&gt; 3 b      18, 8, 9  </span></a>
<a class="sourceLine" id="cb3-13" data-line-number="13"><span class="co">#&gt; 4 c      54, 15, 4 </span></a>
<a class="sourceLine" id="cb3-14" data-line-number="14"><span class="co">#&gt; 5 b      12, 18, 10</span></a>
<a class="sourceLine" id="cb3-15" data-line-number="15"></a>
<a class="sourceLine" id="cb3-16" data-line-number="16"><span class="co"># Interest of 8% over a two year period</span></a>
<a class="sourceLine" id="cb3-17" data-line-number="17">lsd_tbl <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb3-18" data-line-number="18"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(<span class="dt">interest =</span> <span class="kw"><a href="reference/deb_interest.html">deb_interest</a></span>(<span class="dt">lsd =</span> lsd,</a>
<a class="sourceLine" id="cb3-19" data-line-number="19">                                 <span class="dt">interest =</span> <span class="fl">0.08</span>,</a>
<a class="sourceLine" id="cb3-20" data-line-number="20">                                 <span class="dt">duration =</span> <span class="dv">2</span>,</a>
<a class="sourceLine" id="cb3-21" data-line-number="21">                                 <span class="dt">with_principal =</span> <span class="ot">FALSE</span>),</a>
<a class="sourceLine" id="cb3-22" data-line-number="22">         <span class="dt">due =</span> <span class="kw"><a href="reference/deb_add.html">deb_add</a></span>(<span class="dt">lsd1 =</span> lsd,</a>
<a class="sourceLine" id="cb3-23" data-line-number="23">                       <span class="dt">lsd2 =</span> interest))</a>
<a class="sourceLine" id="cb3-24" data-line-number="24"><span class="co">#&gt; # A tibble: 5 x 4</span></a>
<a class="sourceLine" id="cb3-25" data-line-number="25"><span class="co">#&gt;   person lsd        interest          due               </span></a>
<a class="sourceLine" id="cb3-26" data-line-number="26"><span class="co">#&gt;   &lt;chr&gt;  &lt;lsd&gt;      &lt;lsd&gt;             &lt;lsd&gt;             </span></a>
<a class="sourceLine" id="cb3-27" data-line-number="27"><span class="co">#&gt; 1 a      15, 9, 11  2.00, 9.00, 7.04  17.00, 19.00, 6.04</span></a>
<a class="sourceLine" id="cb3-28" data-line-number="28"><span class="co">#&gt; 2 c      32, 17, 8  5.00, 5.00, 2.72  38.00, 2.00, 10.72</span></a>
<a class="sourceLine" id="cb3-29" data-line-number="29"><span class="co">#&gt; 3 b      18, 8, 9   2, 19, 0          21, 7, 9          </span></a>
<a class="sourceLine" id="cb3-30" data-line-number="30"><span class="co">#&gt; 4 c      54, 15, 4  8.00, 15.00, 3.04 63.00, 10.00, 7.04</span></a>
<a class="sourceLine" id="cb3-31" data-line-number="31"><span class="co">#&gt; 5 b      12, 18, 10 2.00, 1.00, 4.96  15.00, 0.00, 2.96</span></a></code></pre></div>
<p>Once created <code>lsd</code> objects maintain the <code>bases</code> attribute provided to them. However, it is often necessary to convert between currencies with different bases for the shillings and pence units. This is possible with the <code><a href="reference/deb_convert_bases.html">deb_convert_bases()</a></code> function. For example, taking the monetary values in <code>lsd_tbl</code> as representing pounds Flemish, we can find the equivalent guilders if the sales occurred in Holland. Guilders were of 20 stuivers but a stuiver was equal to 16 penningen. In addition, guilders were tied to the pound Flemish at the rate of 6 guilder to £1 Flemish.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="co"># Convert from Flemish pounds to guilders</span></a>
<a class="sourceLine" id="cb4-2" data-line-number="2">lsd_tbl <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb4-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(<span class="dt">guilders =</span> <span class="kw"><a href="reference/deb_convert_bases.html">deb_convert_bases</a></span>(<span class="dt">lsd =</span> lsd,</a>
<a class="sourceLine" id="cb4-4" data-line-number="4">                                      <span class="dt">bases2 =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">20</span>, <span class="dv">16</span>),</a>
<a class="sourceLine" id="cb4-5" data-line-number="5">                                      <span class="dt">ratio =</span> <span class="dv">6</span>))</a>
<a class="sourceLine" id="cb4-6" data-line-number="6"><span class="co">#&gt; # A tibble: 5 x 3</span></a>
<a class="sourceLine" id="cb4-7" data-line-number="7"><span class="co">#&gt;   person lsd        guilders  </span></a>
<a class="sourceLine" id="cb4-8" data-line-number="8"><span class="co">#&gt;   &lt;chr&gt;  &lt;lsd&gt;      &lt;lsd&gt;     </span></a>
<a class="sourceLine" id="cb4-9" data-line-number="9"><span class="co">#&gt; 1 a      15, 9, 11  92, 19, 8 </span></a>
<a class="sourceLine" id="cb4-10" data-line-number="10"><span class="co">#&gt; 2 c      32, 17, 8  197, 6, 0 </span></a>
<a class="sourceLine" id="cb4-11" data-line-number="11"><span class="co">#&gt; 3 b      18, 8, 9   110, 12, 8</span></a>
<a class="sourceLine" id="cb4-12" data-line-number="12"><span class="co">#&gt; 4 c      54, 15, 4  328, 12, 0</span></a>
<a class="sourceLine" id="cb4-13" data-line-number="13"><span class="co">#&gt; 5 b      12, 18, 10 77, 13, 0</span></a></code></pre></div>
<p>A common action for such a collection of values would be to add together the purchases by the “person” column. This can be done in the normal <a href="https://tidyverse.org">tidyverse</a> manner, but with a special <code><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise()</a></code> function for an <code>lsd</code> list column, <code><a href="reference/deb_summarise.html">deb_summarise()</a></code>.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="co"># Sum of purchases by person</span></a>
<a class="sourceLine" id="cb5-2" data-line-number="2">lsd_tbl <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb5-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span>(person) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb5-4" data-line-number="4"><span class="st">  </span><span class="kw"><a href="reference/deb_summarise.html">deb_summarise</a></span>(lsd)</a>
<a class="sourceLine" id="cb5-5" data-line-number="5"><span class="co">#&gt; # A tibble: 3 x 2</span></a>
<a class="sourceLine" id="cb5-6" data-line-number="6"><span class="co">#&gt;   person lsd      </span></a>
<a class="sourceLine" id="cb5-7" data-line-number="7"><span class="co">#&gt;   &lt;chr&gt;  &lt;lsd&gt;    </span></a>
<a class="sourceLine" id="cb5-8" data-line-number="8"><span class="co">#&gt; 1 a      15, 9, 11</span></a>
<a class="sourceLine" id="cb5-9" data-line-number="9"><span class="co">#&gt; 2 b      31, 7, 7 </span></a>
<a class="sourceLine" id="cb5-10" data-line-number="10"><span class="co">#&gt; 3 c      87, 13, 0</span></a></code></pre></div>
<p>An issue with the implementation of a list column to hold monetary values is that such a column cannot be plotted. Because of this and other issues inherent in list columns, <code>debkeepr</code> has robust support for <a href="https://jessesadler.github.io/debkeepr/reference/index.html#section-decimalization">decimalization</a>. There are functions to decimalize pounds, shillings, and pence values to any of the three units and to go in the opposite direction from any decimalized unit to lsd values. For plotting purposes the most useful workflow is to go from pounds, shillings, and pence to decimalized pounds.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="co"># Create decimalized pounds variable</span></a>
<a class="sourceLine" id="cb6-2" data-line-number="2">lsd_tbl <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb6-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(<span class="dt">pounds =</span> <span class="kw"><a href="reference/deb_lsd_l.html">deb_lsd_l</a></span>(<span class="dt">lsd =</span> lsd))</a>
<a class="sourceLine" id="cb6-4" data-line-number="4"><span class="co">#&gt; # A tibble: 5 x 3</span></a>
<a class="sourceLine" id="cb6-5" data-line-number="5"><span class="co">#&gt;   person lsd        pounds</span></a>
<a class="sourceLine" id="cb6-6" data-line-number="6"><span class="co">#&gt;   &lt;chr&gt;  &lt;lsd&gt;       &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb6-7" data-line-number="7"><span class="co">#&gt; 1 a      15, 9, 11    15.5</span></a>
<a class="sourceLine" id="cb6-8" data-line-number="8"><span class="co">#&gt; 2 c      32, 17, 8    32.9</span></a>
<a class="sourceLine" id="cb6-9" data-line-number="9"><span class="co">#&gt; 3 b      18, 8, 9     18.4</span></a>
<a class="sourceLine" id="cb6-10" data-line-number="10"><span class="co">#&gt; 4 c      54, 15, 4    54.8</span></a>
<a class="sourceLine" id="cb6-11" data-line-number="11"><span class="co">#&gt; 5 b      12, 18, 10   12.9</span></a>
<a class="sourceLine" id="cb6-12" data-line-number="12"></a>
<a class="sourceLine" id="cb6-13" data-line-number="13"><span class="co"># Use decimalized pounds variable to plot value owed by each person</span></a>
<a class="sourceLine" id="cb6-14" data-line-number="14"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(ggplot2)</a>
<a class="sourceLine" id="cb6-15" data-line-number="15"><span class="co">#&gt; Registered S3 methods overwritten by 'ggplot2':</span></a>
<a class="sourceLine" id="cb6-16" data-line-number="16"><span class="co">#&gt;   method         from </span></a>
<a class="sourceLine" id="cb6-17" data-line-number="17"><span class="co">#&gt;   [.quosures     rlang</span></a>
<a class="sourceLine" id="cb6-18" data-line-number="18"><span class="co">#&gt;   c.quosures     rlang</span></a>
<a class="sourceLine" id="cb6-19" data-line-number="19"><span class="co">#&gt;   print.quosures rlang</span></a>
<a class="sourceLine" id="cb6-20" data-line-number="20">lsd_tbl <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb6-21" data-line-number="21"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(<span class="dt">pounds =</span> <span class="kw"><a href="reference/deb_lsd_l.html">deb_lsd_l</a></span>(<span class="dt">lsd =</span> lsd)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb6-22" data-line-number="22"><span class="st">  </span><span class="kw"><a href="https://www.rdocumentation.org/packages/ggplot2/topics/ggplot">ggplot</a></span>() <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb6-23" data-line-number="23"><span class="st">  </span><span class="kw"><a href="https://www.rdocumentation.org/packages/ggplot2/topics/geom_bar">geom_bar</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/ggplot2/topics/aes">aes</a></span>(<span class="dt">x =</span> person, <span class="dt">y =</span> pounds), <span class="dt">stat =</span> <span class="st">"identity"</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb6-24" data-line-number="24"><span class="st">  </span><span class="kw"><a href="https://www.rdocumentation.org/packages/ggplot2/topics/ggtheme">theme_light</a></span>()</a></code></pre></div>
<p><img src="reference/figures/README-decimalization-1.png" width="384"></p>
<p>For further introduction to the functions and uses of <code>debkeepr</code>, including accounting functions with transaction data frames not discussed here, see <a href="https://jessesadler.github.io/debkeepr/articles/debkeepr.html">Getting Started with debkeepr</a>. Two other vignettes show the use of <code>debkeepr</code> to analyze <a href="https://jessesadler.github.io/debkeepr/articles/transactions.html">individual transactions</a> and a <a href="https://jessesadler.github.io/debkeepr/articles/ledger.html">whole set of account books</a> using the example journal and ledger from Richard Dafforne’s <em>Merchant’s Mirrour</em>.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/jessesadler/debkeepr">https://​github.com/​jessesadler/​debkeepr</a>
</li>
<li>Report a bug at <br><a href="https://github.com/jessesadler/debkeepr/issues">https://​github.com/​jessesadler/​debkeepr/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>
<a href="https://www.jessesadler.com">Jesse Sadler</a> <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0001-6081-9681" target="orcid.widget"><img src="https://members.orcid.org/sites/default/files/vector_iD_icon.svg" class="orcid" alt="ORCID" height="16"></a> </li>
</ul>
</div>

      <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://travis-ci.org/jessesadler/debkeepr"><img src="https://travis-ci.org/jessesadler/debkeepr.svg?branch=master" alt="Travis build status"></a></li>
<li><a href="https://codecov.io/github/jessesadler/debkeepr?branch=master"><img src="https://codecov.io/gh/jessesadler/debkeepr/branch/master/graph/badge.svg" alt="Coverage status"></a></li>
<li><a href="https://www.tidyverse.org/lifecycle/#retired"><img src="https://img.shields.io/badge/lifecycle-retired-orange.svg" alt="lifecycle"></a></li>
</ul>
</div>
</div>

</div>


      <footer><div class="copyright">
  <p>Developed by <a href="https://www.jessesadler.com">Jesse Sadler</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
